import { ImageComponent } from '~/components/ImageComponent'

import CoverPhoto from '~/images/docs/cover-photo.png'
import Step1 from '~/images/docs/emode-step1.png'
import Step2 from '~/images/docs/emode-step2.png'
import Step3 from '~/images/docs/emode-step3.png'
import Step4 from '~/images/docs/emode-step4.png'
import Step5 from '~/images/docs/emode-step5.png'

export const metadata = {
  title: 'e-mode User Guide',
  description: 'marginfi’s e-mode boosts collateral efficiency for correlated asset borrowing.',
}

# Introducing e-mode: More Leverage for Your Collateral

<ImageComponent
  src={CoverPhoto}
  alt="e-mode photo"
/>

marginfi's **e-mode increases capital efficiency by boosting collateral weight when borrowing correlated assets**. Make your collateral go farther with e-mode, only on marginfi. {{ className: 'lead' }}

---

## How Does e-mode Work? {{ tag: '', label: '' }}

"Correlated assets" are assets that tend to move together in price, like SOL and its liquid staking tokens (e.g. mSOL or bSOL). Because their prices are tightly linked, there's less risk of sudden divergence. This allows marginfi’s risk engine to safely allow higher collateral weights when borrowing one correlated asset against another. This means **users can borrow more without adding more collateral**.

e-mode applies automatically based on asset pairings set by the e-mode admin (the marginfi team) — no manual opt-in. Different assets are split into risk tiers — Tier 1 and Tier 2 — based on factors like liquidity, market depth, and price stability, with higher-tier assets receiving greater e-mode collateral weight to reflect their lower risk and stronger price correlation with the assets they’re paired against.

When e-mode launches, marginfi will support borrowing and lending between SOL and various LSTs (liquid staking tokens). Assets are grouped into configuration bands for risk calibration:

* **Tier 1 Assets**: mSOL, bSOL, LST, jupSOL, jitoSOL
* **Tier 2 Assets**: hSOL, bbSOL, bnSOL

| **Lending Asset** | **Borrowing Asset**  | **Normal Weight** | **e-mode Weight** |
|-------------------|----------------------|-------------------|-------------------|
| SOL               | Tier 1               | 80%              | 90%                |
| SOL               | Tier 2               | 80%              | 85%                |
| Tier 1            | SOL                  | 65%              | 90%                |
| Tier 1            | Tier 2               | 65%              | 85%                |
| Tier 2            | SOL                  | 65%              | 85%                |
| Tier 2            | Tier 1               | 65%              | 80%                |

<Note>
Groupings like "Tier 1" and "Tier 2" reflect liquidity and market readiness—not necessarily stronger correlation.
</Note>

## Maintaining Your e-mode Advantage {{ tag: '', label: '' }}

To benefit from e-mode, **all assets you’re borrowing must be part of an eligible e-mode pairing**. If you borrow even a single token outside of those supported pairs — like USDC or another unrelated asset — your entire account reverts to normal collateral weights. This can significantly reduce your account health and limit how much you can borrow.

For example: if you were to lend SOL and borrow mSOL exclusively, your collateral weight would be boosted from 80% to 90% since SOL and mSOL are in an eligible e-mode pair. However, if you decide to also borrow USDC (which isn’t part of any e-mode configuration) in the same account, **the e-mode advantage would effectively be disabled for your entire account**.

<Note>
Although USDC is not currently not an e-mode asset (at the time of writing), the marginfi team plans on giving it an e-mode advantage in a future update. <Button href="https://x.com/marginfi" variant="text"><>Follow marginfi on X</></Button> for the latest announcements on e-mode-eligible assets.
</Note>

Because e-mode boosts collateral weight only when all borrowed assets fall within a supported pairing, borrowing a non-correlated asset (e.g. USDC) will revert your account to standard weights. This means **borrowing even a small amount of an unsupported asset can reduce your effective collateral**, lowering account health. marginfi will prevent these user actions if they would lead to liquidation, but it’s important for users to be aware of this dynamic.

---

## e-mode Compared to Split Markets {{ tag: '', label: '' }}

Some major lending platforms on Solana use split markets to manage risk across different asset types, creating isolated pools with customized parameters. While this approach can offer control, it fragments liquidity and forces users to manage positions across multiple markets. 

marginfi’s e-mode takes a different path: by adjusting collateral weights dynamically within a single unified pool, **e-mode enables more efficient borrowing against correlated assets without sacrificing composability or user experience**. You don’t have to think about which market your assets belong to or reallocate collateral manually to optimize efficiency. This unified model is more elegant, preserving liquidity while delivering better capital efficiency and simpler UX.

---

## Risk and Safety Guarantees {{ tag: '', label: '' }}

While e-mode improves capital efficiency, it does so without compromising on safety. The system is designed to ensure that no user is ever exposed to additional risk beyond what marginfi’s core risk engine already allows.

* **e-mode can never reduce a bank’s default collateral weight**. If an e-mode configuration tries to assign a weight lower than the bank's standard setting, it is simply ignored. This means your collateral is never treated more conservatively just because it’s in e-mode.
* **Liquidation thresholds are still strictly enforced.** marginfi continues to apply standard maintenance thresholds for collateral valuation. Even with e-mode enabled, users must maintain healthy positions to avoid liquidation risk. The health buffer logic remains unchanged.
* **Borrowing is blocked if it would break your account health**. If borrowing a non-e-mode asset (like USDC) would disable the e-mode benefit and result in insufficient collateral, the transaction will fail. This built-in guardrail helps prevent users from unknowingly putting their account at risk by losing e-mode status mid-operation.

e-mode boosts capital efficiency, but not at the expense of safety. You always remain protected by the same core risk management principles that power all of marginfi.

---

## Getting Started with e-mode {{ tag: '', label: '' }}

To **view available e-mode pairings**, open the asset selector menu and choose the **e-mode** category on the <Button href="https://app.marginfi.com" variant="text"><>Lend page</></Button>.  
You can also access this from the <Button href="https://app.marginfi.com/Portfolio" variant="text"><>Portfolio page</></Button>.

<ImageComponent
  src={Step1}
  alt="Selecting e-mode assets"
/>

Next, choose the asset(s) you want to lend or borrow using the dropdown menus. This will display any compatible e-mode pairings.

For example, if you lend PYUSD, you could activate an e-mode advantage by borrowing USDC, UXD, or SOL—provided they are part of a valid e-mode configuration.

<Note>
This example is for demonstration purposes only. At the time of writing, PYUSD, USDC, and UXD are not currently eligible for e-mode.
</Note>

<ImageComponent
  src={Step2}
  alt="Choosing e-mode assets"
/>

From the same interface, navigate to the **Strategies** tab to initiate a borrow using the collateral you've already deposited. If your borrow falls within a supported e-mode pair, marginfi will automatically apply the e-mode boost.

<ImageComponent
  src={Step3}
  alt="Executing strategy in e-mode"
/>

Once your e-mode pairing is active, you’ll see the e-mode icon turn **purple** on any asset that benefits from the enhanced collateral weight.

<Note>
To maintain your e-mode benefits, you must avoid borrowing assets that are not part of a supported e-mode configuration within the same account.
</Note>

<ImageComponent
  src={Step4}
  alt="Active e-mode pairing indicator"
/>

You can also review your current e-mode pairings by toggling the **Highlight e-mode** switch on the <Button href="https://app.marginfi.com/Portfolio" variant="text"><>Portfolio page</></Button>.

<ImageComponent
  src={Step5}
  alt="Highlighting active e-mode pairs"
/>


---

## Pro Tips: Power-Using e-mode {{ tag: '', label: '' }}

* **Split Your Strategy**: Create multiple marginfi accounts to take advantage of different e-mode benefits without interference. One account can be SOL/mSOL only; another can hold your stablecoin borrows.
* **Leverage Harder**: Use your boosted collateral weight to loop or leverage long positions more aggressively within your risk budget.
* **You’re in Control**: We won’t reduce e-mode rates except in extreme protocol-wide emergencies. Your leverage assumptions remain stable.
* **Propose Pairings**: Have an idea for a new asset pairing you'd like to see added to e-mode? <Button href="https://x.com/marginfi" variant="text"><>Let us know on X</></Button>.

---

## Conlcusion

Whether you're looping positions, maximizing capital efficiency, or managing multiple accounts for specialized strategies, e-mode makes it easy to do more with the assets you already have. <Button href="https://app.marginfi.com" variant="text"><>Start using e-mode today</></Button> and put your collateral to work like never before. Only on marginfi.